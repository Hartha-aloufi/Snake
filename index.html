<!DOCTYPE html>
<html>
<head>
<title>Snake</title>
<script src="https://ajax.googleapis.com/ajax/libs/jquery/1.12.0/jquery.min.js"></script>

</head>
<body>
<script src="/socket.io/socket.io.js"></script>
<canvas id="myCanvas" width="1000" height="600" style="border: 1px solid red; background: #222">
Your browser does not support the HTML5 canvas tag.</canvas>

<script>
var canvas = document.getElementById("myCanvas");
var context = canvas.getContext("2d");
var socket = io();


$(window).keydown(function(event) {
	updatePlayerDir(event.which);
	socket.emit('direction change', which);

});

function updatePlayerDir(which){
}

function draw(player, food){
	context.clearRect(0, 0, canvas.width, canvas.height);

	// draw snakes
	for(i = 0; i < player.length; i++){
		for(j = 0; j < player[i].snake.rectangles.length; j++){
			var rect = player[i].snake.rectangles[j];
			context.fillStyle = rect.color;
			context.fillRect(rect.x, rect.y, rect.width, rect.height);
		}

	}

	// draw the food
	context.fillStyle = "#FF0000";
	context.fillRect(food.x, food.y, 10, 10);
}



// socket.io
socket.on('draw', function(data){
	draw(data.player, data.food);
});

</script> 

</body>
</html>
